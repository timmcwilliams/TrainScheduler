
<!DOCTYPE html>
<html>
<head>
	<title>Train Scheduler</title>

</script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="assets/javascript/moment.js"></script>
  <script>

      moment().format();
    </script>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<link rel="stylesheet" type="text/css" href="assets/css/train.css"> 
</head>

<body>


<div class="jumbotron">
		<h1 class="text-center">Welcome to Todays Train Schedule 2</h1>
		<h3 class="text-center">We are ALWAYS ON TIME</h3>
	</div>
	<div class="row">
		<!-- Sign-Up Panel-->
		<div class="col-lg-6">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title"Train Schedule"</h3>
				</div>
				<div class="panel-body">
          <div id="currentT-input"><!--  class="clock">loading ... --></div>
					<!-- Sign-up Form (note the various input "types")-->
					<form role="form">
						<div class="form-group">
							<label for="train-input">Train #:</label>
							<input class="form-control" id="train-input" type="text">
						</div>
						<div class="form-group">
							<label for="routeTime-input">Route Time:</label>
							<input class="form-control" id="routeTime-input" type="text">
						</div>
						<div class="form-group">
							<label for="origin-input">Origin:</label>
							<input class="form-control" id="origin-input" type="text">
						</div>	
						<div class="form-group">
							<label for="destination-input">Destination:</label>
							<input class="form-control" id="destination-input" type="Text">
						</div>						
						<div class="form-group">
							<label for="freq-input">Frequency:</label>
							<input class="form-control" id="freq-input" type="text">
						</div>	
						<div class="form-group">
							<label for="depart-input">Departs:</label>
							<input class="form-control" id="depart-input" type="text">
						</div>	
             <!--  <div class="form-group">
              <label for="currentT-input">Current Time:</label>
              <input class="form-control" id="currentT-input" type="text">
            </div>   -->
						<div class="form-group">
							<label for="arrive-input">Arrives:</label>
							<input class="form-control" id="arrive-input" type="text">
						</div>	
						<div class="form-group">
							<label for="toarrive-input">Time Until Arrive:</label>
							<input class="form-control" id="toarrive-input" type="text">
						</div>					
						<button class="btn btn-default" id="add-entry" type="submit">Submit</button>
					</form>
				</div>
	     </div>
    </div>
  </div>
<div class="container">
  <h2>Tim Table</h2>
  <p>You Have No Control of What Happens Here</p>                                                                                      
  <div class="table-responsive">          
  <table class="table">
    <thead>
      <tr>
        <th>Train Number</th>
        <th>Departs</th>
        <th>Destination</th>
        <th>Frequency (Min)</th>
        <th>Current Time(Min)</th>
        <th>Start Time</th>
        <th>Arrive Time</th>
        <th>Time Left</th>
      </tr>
    </thead>
      <tbody>
        <tr>
        	<td id="train-input"></td>
          <td id="origin-input"></td>
          <td id="destination-input"></td>
          <td id="freq-input"></td>
          <td id="currentT-input"></td>	 
          <td id="start-time"></td>
          <td id="Arrival=time"></td>
          <td od="time-left"></td>
         </tr>
      </tbody>
  </table>
  </div>
</div>



		<script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script>
		<!-- <script src="/js/moment.min.js"></script> -->
<!-- <script> -->
		<script type="text/javascript">
		

// var config = {
//     apiKey: "AIzaSyC0g59thcN9zskcb4N1UKGHdbUM2zR36PM",
//     authDomain: "traintime123-7d9e0.firebaseapp.com",
//     databaseURL: "https://traintime123-7d9e0.firebaseio.com",
//     projectId: "traintime123-7d9e0",
//     storageBucket: "traintime123-7d9e0.appspot.com",
//     messagingSenderId: "174038226228"
//  			 };

//  firebase.initializeApp(config);
//   var database = firebase.database(); 
//    database.ref().set({
//         time: ttt /*starts "setting" database values*/
//       				});
 


		// var ttt = new moment ().format("HH:mm");
		// $("#currentT-input").text(ttt);

			// $('#currentT-input').fitText(1.3);
      function update() {
  $("#currentT-input").html(moment().format("H:mm:ss"));
}
setInterval(update, 1000);


			$("#add-entry").on("click", function(event){

				event.preventDefault();
// var currentT=$("#currentT-input").val().trim();

				// var timenow = $(time);
				var trainNum =    $("#train-input").val().trim();
				var routeTime =   $("#routeTime-input").val().trim();
				var destination = $("#destination-input").val().trim();
				var origin =      $("#origin-input").val().trim();
				var freq =        $("#freq-input").val().trim();
				var departs =     $("#depart-input").val().trim();
				var arrive =      $("#arrive-input").val().trim();
				var tarrive =     $("#toarrive-input").val().trim();
				var currentT =    $("#currentT-input").val().trim();
        var startT=1000;
        var routeTime=200;
				var arriveT=startT+routeTime;
        var ttt=currentT;
				var remainT=(currentT-arriveT)*-1;
        
				
				console.log(trainNum,routeTime,destination,origin,freq,departs,tarrive,startT,arriveT,currentT,remainT,ttt);
// post to form

      	$(".table #train-input").append($("<td>").text(trainNum));
      	$(".table #origin-input").append($("<td>").text(departs));
      	$(".table #destination-input").append($("<td>").text(destination));
      	$(".table #freq-input").append($("<td>").text(freq));
      	$(".table currentT-input").append($("<td>").text(currentT));
      	$(".table #start-time").append($("<td>").text(startT));
      	$(".table #arrive-input").append($("<td>").text(arrive));
      	$(".table #toarrive-input").append($("<td>").text(tarrive));
      	$(".table #toarrive-input").append($("<td>").text(tarrive));
      	console.log(trainNum);

  });
		</script>
	</body>
	</html>

<!-- 	/* global firebase */

// Initialize Firebase
// Make sure that your configuration matches your firebase script version
// (Ex. 3.0 != 3.7.1)
var config = {
    apiKey: "AIzaSyB4Ws5gPo9gNW9x90uXnX6XZ4uqE5QjkUY",
    authDomain: "countdownclicker.firebaseapp.com",
    databaseURL: "https://countdownclicker.firebaseio.com",
    storageBucket: "countdownclicker.appspot.com",
    messagingSenderId: "435604262542"
};

firebase.initializeApp(config);

// Create a variable to reference the database
var database = firebase.database();

// Use the below initialValue
var initialValue = 100;

// Use the below variable clickCounter to keep track of the clicks.
var clickCounter = initialValue;

// <!- -->

// At the initial load and on subsequent data value changes, get a snapshot of the current data. (I.E FIREBASE HERE)
// This callback keeps the page updated when a value changes in firebase.
database.ref().on("value", function(snapshot) {
  // We are now inside our .on function...

  // Console.log the "snapshot" value (a point-in-time representation of the database)
  console.log(snapshot.val());
  // This "snapshot" allows the page to get the most current values in firebase.

  // Change the value of our clickCounter to match the value in the database
  clickCounter = snapshot.val().clickCount;

  // Console Log the value of the clickCounter
  console.log(clickCounter);

  // Change the HTML using jQuery to reflect the updated clickCounter value
  // $("#click-value").text(snapshot.val().clickCount);
  // Alternate solution to the above line
  $("#click-value").html(clickCounter);

// If any errors are experienced, log them to console.
}, function(errorObject) {
  console.log("The read failed: " + errorObject.code);
});

// --------------------------------------------------------------

// Whenever a user clicks the click button
$("#click-button").on("click", function() {

  // Reduce the clickCounter by 1
  clickCounter--;

  // Alert User and reset the counter
  if (clickCounter === 0) {
    alert("Phew! You made it! That sure was a lot of clicking.");
    clickCounter = initialValue;
  }

  // Save new value to Firebase
  database.ref().set({
    clickCount: clickCounter
  });

  // Log the value of clickCounter
  console.log(clickCounter);

});

// Whenever a user clicks the restart button
$("#restart-button").on("click", function() {

  // Set the clickCounter back to initialValue
  clickCounter = initialValue;

  // Save new value to Firebase
  database.ref().set({
    clickCount: clickCounter
  });

  // Log the value of clickCounter
  console.log(clickCounter);

  // Change the HTML Values
  $("#click-value").text(clickCounter);

}); -->